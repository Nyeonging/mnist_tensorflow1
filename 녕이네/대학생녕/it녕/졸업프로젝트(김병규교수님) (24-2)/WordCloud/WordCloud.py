from wordcloud import WordCloud
from konlpy.tag import Okt
import matplotlib.pyplot as plt

# 텍스트 파일 읽기
file_path = "/Users/choiyoonryung/Desktop/녕이네/대학생녕/it녕/졸업프로젝트(김병규교수님) (24-2)/WordCloud/text.txt"  # 텍스트 파일 경로
with open(file_path, 'r', encoding='utf-8') as file:
    text = file.read()

# 형태소 분석기 초기화
okt = Okt()

# 형태소 분석 및 명사 추출
nouns = okt.nouns(text)

# 불용어 설정
stop_words = [
    '그리고', '그러나', '또는', '하지만', '그럼에도', '따라서', '이', '그', '저', '어떤', '모든', '때문', 
    '수', '것', '위해', '하여', '으로', '에서', '에게', '뿐', '없이', '있다', '없다', '같다', '이다', '하다',
    '하지', '된', '하게', '되어', '하고', '하며', '함', '라', '로', '을', '를', '에', '와', '과', '의', '가', 
    '나', '도', '은', '는', '정한', '그런', '할', '될', '대해', '따른', '한다', '되고', '된다', '또', '안에',
    '중에', '위의', '있으며', '있어서', '없으며', '삼가', '고인의', '명복을', '빕니다', '좋은', '곳으로', 
    '당신', '당신이', '혼자가', '아니에요', '우리는', '언제나', '있습니다', '기억하세요', '특별합니다',
    '소중한', '존재입니다', '모든', '걸음이', '행복은', '시간이', '지나면', '길이', '만들어', '될', '충분합니다',
    '것보다', '함께', '있기를', '기도하고', '있는', '사람들이', '있', '니'
]

# 불용어 제거
filtered_nouns = [word for word in nouns if word not in stop_words]

# 단어들을 하나의 문자열로 합치기
cleaned_text = " ".join(filtered_nouns)

# 워드 클라우드 생성
wordcloud = WordCloud(
    font_path='/System/Library/Fonts/Supplemental/AppleGothic.ttf',  # 한글 폰트 경로
    width=800,
    height=400,
    background_color='white',
    max_words=100
).generate(cleaned_text)

# 워드 클라우드 시각화
plt.figure(figsize=(10, 5))
plt.imshow(wordcloud, interpolation='bilinear')
plt.axis('off')  # 축 숨기기
plt.show()

# # 위로의 말 텍스트 데이터
# text_data = """
# 힘들었던 모든 순간이 당신을 더 강하게 만들 것입니다.
# 오늘 하루도 당신이 충분히 잘 해냈다는 걸 잊지 마세요.
# 어떤 어려움이 있더라도 당신은 이를 극복할 수 있을 거예요.
# 당신은 당신이 생각하는 것보다 훨씬 더 소중한 존재입니다.
# 때로는 쉬어가는 것도 앞으로 나아가는 방법입니다.
# 눈물 뒤에는 분명 웃음이 찾아올 거예요.
# 지금의 고난은 미래의 행복을 위한 준비일 뿐이에요.
# 당신은 혼자가 아니에요. 우리는 언제나 함께 있습니다.
# 이 순간에도 당신을 위해 기도하고 있는 사람들이 있습니다.
# 작은 행복이 큰 위로를 가져다 줄 거예요.
# 아무리 긴 밤이라도 아침은 반드시 찾아옵니다.
# 당신은 사랑받기 위해 태어난 소중한 사람입니다.
# 시간이 지나면 지금의 어려움도 추억이 될 것입니다.
# 당신이 걸어온 길은 분명 아름다웠습니다.
# 작은 한 걸음이라도 앞으로 나아가면 충분합니다.
# 당신이 힘들 때 기대어 쉴 수 있는 사람이 있기를 바랍니다.
# 세상이 등을 돌려도, 당신은 여전히 빛나는 존재입니다.
# 비가 온 뒤에 땅이 더 굳어진다는 걸 기억하세요.
# 당신의 노력은 절대 헛되지 않을 거예요.
# 언제나 당신 곁에 있는 사람들을 잊지 마세요.
# 오늘도 당신의 마음이 평안하기를 바랍니다.
# 힘들 땐 잠시 눈을 감고 숨을 고르는 것도 좋습니다.
# 고난은 지나가고, 행복은 찾아올 거예요.
# 당신은 늘 그 자리에 빛나는 별과 같은 존재입니다.
# 당신의 소중함을 잊지 마세요. 당신은 특별합니다.
# 기억하세요. 당신은 모든 것보다 소중한 존재입니다.
# 어려운 순간일수록 당신은 더욱 강해질 수 있습니다.
# 행복은 가까운 곳에서 당신을 기다리고 있을 거예요.
# 당신이 걸어온 모든 발걸음이 소중합니다.
# 세상은 당신을 필요로 합니다. 당신은 소중한 존재입니다.
# """

# # 파일로 저장
# with open('comfort_text.txt', 'w', encoding='utf-8') as file:
#     file.write(text_data)

# print("comfort_text.txt 파일이 생성되었습니다.")
